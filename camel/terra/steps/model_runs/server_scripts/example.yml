location: model_runs/pariswindstorm
variables:
    aws_access_key: =>aws_access_key
    aws_secret_access_key: =>aws_secret_access_key
    subnet_id: =>subnet_id
    server_security_group: =>security_group_id
    repository: "git@github.com:OasisLMF/Catrisks.git"
    oasislmf_version: "1.26.3"
    data_bucket: "oasislmf-model-library-catrisks-afeq"
    data_directory: "/home/ubuntu/Catrisks/AFEQ/"
    instance_type: "t2.large"
    server_tag: "catrisks afeq camel run"
    key_name: "OasisProject"
    root_block_size: "15"
local_vars:
  - name: output
    path: /home/ubuntu/
    ip_address: true
steps:
  - name: run_api_test_1
    env_vars:
      OASIS_WORKER_VERSION: "1.26.3"
      OASIS_UI_VERSION: "1.11.3"
      OASIS_PLATFORM_VERSION: "1.26.3"
    script_name: run_api_test_1
    variables:
      git_branch: "develop"
      parent_dir: "/home/ubuntu/Catrisks"
      test_dir: "/home/ubuntu/Catrisks/AFEQ/tests/test_1"
      expected_md5: "/home/ubuntu/Catrisks/AFEQ/expected/1-26-3/expected.md5"
      worker_name: "afeq_worker"
      worker_dockerfile: "/home/ubuntu/Catrisks/docker/Dockerfile.catrisks_afeq_worker"
      docker_compose_platform: "/home/ubuntu/Catrisks/docker/docker-compose.yml"
      docker_compose_worker: "/home/ubuntu/Catrisks/docker/docker-compose_afeq.yml"
      docker_compose_ui: "/home/ubuntu/Catrisks/docker/docker-compose_ui.yml"
  - name: conditional
    operator: ==
    variable: '>>output'
    value: FINISHED
    step_data:
      name: print
      statement: the process is finished
